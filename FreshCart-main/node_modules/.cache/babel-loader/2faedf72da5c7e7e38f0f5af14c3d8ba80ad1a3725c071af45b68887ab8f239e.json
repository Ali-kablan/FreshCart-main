{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\keplo\\\\Downloads\\\\FreshCart-main\\\\FreshCart-main\\\\src\\\\components\\\\Products\\\\Products.jsx\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport { useContext, useState } from 'react';\nimport style from './Products.module.scss';\nimport React, { useEffect } from 'react';\nimport { Oval } from 'react-loader-spinner';\nimport { useQuery } from 'react-query';\nimport { Link } from 'react-router-dom';\nimport { cartContext } from '../../context/CartContext';\nimport { toast } from 'react-toastify';\nimport StarRating from '../StarRating/StarRating';\nimport { Helmet } from 'react-helmet';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Products() {\n  _s();\n  localStorage.removeItem('code');\n  localStorage.removeItem('verifycode');\n  let {\n    addToCart,\n    addToWishList,\n    setWishListNumber,\n    getWishList,\n    deleteWishList,\n    setDataWishList,\n    getCart\n  } = useContext(cartContext);\n  const [matchingProductIds, setMatchingProductIds] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  // const[productList, setProduct] = useState([]);\n  async function getProducts(page = currentPage) {\n    const productsPerPage = 12;\n    return await axios.get(`https://ecommerce.routemisr.com/api/v1/products?page=${page}&limit=${productsPerPage}`);\n    // console.log(data.data);\n    // setProduct(data.data);\n  }\n\n  /*   useEffect(()=> {\n  getProducts();\n  \n    }, [])\n   */\n  let {\n    data,\n    isLoading\n  } = useQuery([\"products\", currentPage], () => getProducts(currentPage), {\n    cacheTime: 3000,\n    refetchInterval: 3000\n    // // refetchOnMount: false,\n    // staleTime: 3000\n  });\n  let products = data === null || data === void 0 ? void 0 : data.data.data;\n  // console.log(currentPage)\n  // console.log(products);\n\n  useEffect(() => {\n    (async _dataa$data => {\n      await getCart();\n      let dataa = await getWishList();\n      let wish = (_dataa$data = dataa.data) === null || _dataa$data === void 0 ? void 0 : _dataa$data.data;\n      // Check if products and wish are defined\n      if (products && wish) {\n        const isMatch = products.some(product => {\n          return wish.some(wishedItem => {\n            // Compare properties (e.g., assuming 'id' is a unique identifier)\n            return product.id === wishedItem.id;\n          });\n        });\n        if (isMatch) {\n          // console.log('Some products match the wish list.');\n          const matchingProductIds = products.filter(product => wish.some(wishedItem => product.id === wishedItem.id)).map(matchingProduct => matchingProduct.id);\n          setMatchingProductIds(matchingProductIds);\n        } else {\n          // console.log('No products match the wish list.');\n        }\n      } else {\n        // console.log('Products or wish data is not available yet.');\n      }\n    })();\n  }, [data === null || data === void 0 ? void 0 : data.data.data, getWishList, products]);\n\n  // console.log('isLoading', isLoading);\n  // console.log('isFetched', isFetched);\n\n  async function addToMyCart(id) {\n    await addToCart(id);\n  }\n  async function addToMyWishList(e, id) {\n    if (!matchingProductIds.includes(id)) {\n      e.target.classList.replace('fa-regular', 'fa-solid');\n      let {\n        data\n      } = await addToWishList(id);\n      // console.log(data.data.length);\n      if (data.status === 'success') {\n        toast.success(data.message);\n        setWishListNumber(data.data.length);\n      }\n    } else {\n      e.target.classList.replace('fa-solid', 'fa-regular');\n      let data = await deleteWishList(id);\n      // console.log(data.data.data.length);\n      if (data.status === 200) {\n        setDataWishList(data.data.data);\n        setWishListNumber(data.data.data.length);\n        toast.error('Product removed from wishlist');\n      }\n    }\n  }\n  const productsPerPage = 10;\n  const totalPages = Math.ceil((data === null || data === void 0 ? void 0 : data.data.totalPages) / productsPerPage) || 5;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row mt-5 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(Helmet, {\n        children: [/*#__PURE__*/_jsxDEV(\"meta\", {\n          charSet: \"utf-8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n          name: \"description\",\n          content: \"Explore our curated collection of high-quality products. Shop now for the best deals!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"title\", {\n          children: \"Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), !isLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [data === null || data === void 0 ? void 0 : data.data.data.map(product => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4 col-lg-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `card product ${style.pad} mb-5`,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: `/details/${product._id}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: product.imageCover,\n                    className: \"w-100 mb-2\",\n                    alt: product.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 125,\n                    columnNumber: 15\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-main text-nowrap\",\n                    children: product.category.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 126,\n                    columnNumber: 13\n                  }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                    className: ` fw-bold mb-4 ${style.spac}`,\n                    children: product.title.split(' ').slice(0, 3).join(' ')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 13\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex justify-content-between\",\n                    children: [/*#__PURE__*/_jsxDEV(StarRating, {\n                      rating: product.ratingsAverage\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 129,\n                      columnNumber: 13\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `${style.fs9} text-muted mt-1`,\n                      children: [\"(\", product.sold, \")\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 130,\n                      columnNumber: 13\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 13\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [product.price, \"EGP\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 132,\n                    columnNumber: 15\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-inline float-end \",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: e => {\n                      addToMyWishList(e, product._id);\n                    },\n                    className: \"btnAction\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: `fa-${matchingProductIds.includes(product._id) ? 'solid' : 'regular'} fa-heart fs-5`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 136,\n                      columnNumber: 17\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 135,\n                    columnNumber: 15\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    addToMyCart(product._id);\n                  },\n                  className: \"btn bg-main text-light w-100 mt-3 rounded-5\",\n                  children: \"Add To Cart\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 13\n            }, this)\n          }, product._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 18\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"nav\", {\n          \"aria-label\": \"Page navigation\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"pagination m-auto justify-content-center my-5\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: `page-item ${currentPage === 1 ? \"disabled\" : \"\"}`,\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"page-link rounded-2\",\n                onClick: () => setCurrentPage(prevPage => Math.max(prevPage - 1, 1)),\n                disabled: currentPage === 1,\n                children: \"Previous\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: ` ms-3  page-item ${currentPage === totalPages ? \"disabled\" : \"\"}`,\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"page-link rounded-2\",\n                onClick: () => setCurrentPage(prevPage => Math.min(prevPage + 1, totalPages)),\n                disabled: currentPage === totalPages,\n                children: \"Next page\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" vh-100 d-flex justify-content-center align-items-center\",\n        children: /*#__PURE__*/_jsxDEV(Oval, {\n          visible: true,\n          height: \"80\",\n          width: \"80\",\n          color: \"#4fa94d\",\n          ariaLabel: \"oval-loading\",\n          wrapperStyle: {},\n          wrapperClass: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n_s(Products, \"GfU8IxAH5rfUK0ufPXYmQzyG0j8=\", false, function () {\n  return [useQuery];\n});\n_c = Products;\nvar _c;\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"names":["axios","useContext","useState","style","React","useEffect","Oval","useQuery","Link","cartContext","toast","StarRating","Helmet","jsxDEV","_jsxDEV","Fragment","_Fragment","Products","_s","localStorage","removeItem","addToCart","addToWishList","setWishListNumber","getWishList","deleteWishList","setDataWishList","getCart","matchingProductIds","setMatchingProductIds","currentPage","setCurrentPage","getProducts","page","productsPerPage","get","data","isLoading","cacheTime","refetchInterval","products","_dataa$data","dataa","wish","isMatch","some","product","wishedItem","id","filter","map","matchingProduct","addToMyCart","addToMyWishList","e","includes","target","classList","replace","status","success","message","length","error","totalPages","Math","ceil","children","className","charSet","fileName","_jsxFileName","lineNumber","columnNumber","name","content","pad","to","_id","src","imageCover","alt","title","category","spac","split","slice","join","rating","ratingsAverage","fs9","sold","price","onClick","prevPage","max","disabled","min","visible","height","width","color","ariaLabel","wrapperStyle","wrapperClass","_c","$RefreshReg$"],"sources":["C:/Users/keplo/Downloads/FreshCart-main/FreshCart-main/src/components/Products/Products.jsx"],"sourcesContent":["import axios from 'axios'\nimport { useContext, useState} from 'react';\nimport style from './Products.module.scss'\nimport React, { useEffect} from 'react'\nimport { Oval } from 'react-loader-spinner';\nimport { useQuery } from 'react-query';\nimport { Link } from 'react-router-dom';\nimport { cartContext } from '../../context/CartContext';\nimport { toast } from 'react-toastify';\nimport StarRating from '../StarRating/StarRating';\nimport { Helmet } from 'react-helmet';\n\n\nexport default function Products() {\n  localStorage.removeItem('code');\n  localStorage.removeItem('verifycode');\n\n  \nlet {addToCart, addToWishList, setWishListNumber,getWishList, deleteWishList, setDataWishList, getCart } = useContext(cartContext);\nconst [matchingProductIds, setMatchingProductIds] = useState([]);\nconst [currentPage, setCurrentPage] = useState(1);\n// const[productList, setProduct] = useState([]);\n  async function getProducts(page = currentPage) {\n    const productsPerPage = 12;\n    return await axios.get(`https://ecommerce.routemisr.com/api/v1/products?page=${page}&limit=${productsPerPage}`);\n    // console.log(data.data);\n    // setProduct(data.data);\n  }\n\n/*   useEffect(()=> {\ngetProducts();\n\n  }, [])\n */\n    let {data, isLoading}= useQuery([\"products\", currentPage], ()=> getProducts(currentPage), {\n      cacheTime: 3000,\n      refetchInterval: 3000,\n      // // refetchOnMount: false,\n        // staleTime: 3000\n    });\n    let products = data?.data.data\n    // console.log(currentPage)\n    // console.log(products);\n\n    useEffect(() => {\n      (async () => {\n        await getCart();\n        let dataa = await getWishList();\n          let wish = dataa.data?.data;\n        // Check if products and wish are defined\n        if (products && wish) {\n          const isMatch = products.some((product) => {\n            return wish.some((wishedItem) => {\n              // Compare properties (e.g., assuming 'id' is a unique identifier)\n              return product.id === wishedItem.id;\n            });\n          });\n        \n          if (isMatch) {\n            // console.log('Some products match the wish list.');\n            const matchingProductIds = products\n              .filter((product) => wish.some((wishedItem) => product.id === wishedItem.id))\n              .map((matchingProduct) => matchingProduct.id);\n            setMatchingProductIds(matchingProductIds);\n          } else {\n            // console.log('No products match the wish list.');\n          }\n        } else {\n          // console.log('Products or wish data is not available yet.');\n        }\n      \n      })();\n    }, [data?.data.data, getWishList, products]);\n\n\n    // console.log('isLoading', isLoading);\n    // console.log('isFetched', isFetched);\n\n  async function addToMyCart(id) {\n  await addToCart(id)\n  }\n\n  async function addToMyWishList(e, id) {\n    if(!matchingProductIds.includes(id)) {\n      e.target.classList.replace('fa-regular', 'fa-solid' );\n      let {data} = await addToWishList(id);\n      // console.log(data.data.length);\n      if(data.status === 'success') {\n        toast.success(data.message);\n        setWishListNumber(data.data.length);\n    }\n    }else {\n      e.target.classList.replace('fa-solid', 'fa-regular' );\n      let data = await deleteWishList(id);\n      // console.log(data.data.data.length);\n      if(data.status === 200) {\n        setDataWishList(data.data.data);\n        setWishListNumber(data.data.data.length);\n        toast.error('Product removed from wishlist');\n      }\n}\n}\n\nconst productsPerPage = 10;\nconst totalPages = Math.ceil(data?.data.totalPages / productsPerPage) || 5;\n\n\n\n  return (\n    <>\n\n        <div className='row mt-5 mb-4'>\n        <Helmet>\n                <meta charSet=\"utf-8\" />\n                <meta name='description' content='Explore our curated collection of high-quality products. Shop now for the best deals!'/>\n                <title>Products</title>\n            </Helmet>\n      {!isLoading?\n      <>\n        {data?.data.data.map((product)=> {\n          return <div className=\"col-md-4 col-lg-3\" key={product._id}>\n            <div className={`card product ${style.pad} mb-5`}>\n              <div className=\"card-body\">\n              <Link to={`/details/${product._id}`}>\n              <img src={product.imageCover} className='w-100 mb-2' alt={product.title} />\n            <p className='text-main text-nowrap'>{product.category.name}</p>\n            <h6 className={` fw-bold mb-4 ${style.spac}`}>{product.title.split(' ').slice(0, 3).join(' ')}</h6>\n            <div className='d-flex justify-content-between'>\n            <StarRating rating={product.ratingsAverage}/>\n            <span className={`${style.fs9} text-muted mt-1`}>({product.sold})</span>\n            </div>\n              <span>{product.price}EGP</span>\n              </Link>\n              <div className='d-inline float-end '>\n              <button onClick={(e)=>{addToMyWishList(e,product._id)}} className='btnAction'>\n                <i className={`fa-${matchingProductIds.includes(product._id) ? 'solid' : 'regular'} fa-heart fs-5`} ></i>\n              </button>\n              </div>\n            <button onClick={()=>{addToMyCart(product._id)}} className='btn bg-main text-light w-100 mt-3 rounded-5'>Add To Cart</button>\n              </div>\n            </div>\n          </div>\n        })}\n\n    \n    <nav aria-label=\"Page navigation\">\n          <ul className=\"pagination m-auto justify-content-center my-5\">\n            <li className={`page-item ${currentPage === 1 ? \"disabled\" : \"\"}`}>\n              <button className=\"page-link rounded-2\" onClick={() =>setCurrentPage((prevPage) => Math.max(prevPage - 1, 1))} disabled={currentPage === 1}>\n                Previous\n              </button>\n            </li>\n\n{/*             {[...Array(totalPages).keys()].map((page) => (\n              <li key={page + 1} className={`page-item ${currentPage === page + 1 ? \"active\" : \"\"}`}>\n                <button className=\"page-link\" onClick={() => setCurrentPage(page + 1)}>\n                  {page + 1}\n                </button>\n              </li>\n            ))} */}\n\n            <li className={` ms-3  page-item ${currentPage === totalPages ? \"disabled\" : \"\"}`}>\n              <button className=\"page-link rounded-2\" onClick={() => setCurrentPage((prevPage) => Math.min(prevPage + 1, totalPages))} disabled={currentPage === totalPages}>\n                Next page\n              </button>\n            </li>\n          </ul>\n        </nav>\n        </>\n          :\n          <div className=\" vh-100 d-flex justify-content-center align-items-center\">\n              <Oval\n            visible={true}\n            height=\"80\"\n            width=\"80\"\n            color=\"#4fa94d\"\n            ariaLabel=\"oval-loading\"\n            wrapperStyle={{}}\n            wrapperClass=\"\"\n            />\n          </div>\n          }\n        </div>\n    </>\n\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}